# Keycloak Environment Configuration
# This file contains the environment variables used by Keycloak service
# Copy this file to .env.local and the create-secrets.sh script will populate the passwords

# =============================================================================
# Keycloak Version
# =============================================================================
# Specify the Keycloak Docker image version to use
KEYCLOAK_VERSION=26.3.3

# =============================================================================
# Admin Configuration
# =============================================================================
# Admin username and password for Keycloak (password will be auto-generated)
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=

# =============================================================================
# Database Configuration
# =============================================================================
# Database settings for Keycloak (passwords will be auto-generated)
KC_DB_NAME=keycloak
KC_DB_USERNAME=dbuser
KC_DB_PASSWORD=

# =============================================================================
# Client Secrets Configuration
# =============================================================================
# Client secret for Temporal UI authentication (will be auto-generated)
TEMPORAL_UI_CLIENT_SECRET=

# =============================================================================
# External URL Configuration
# =============================================================================
# URLs for browser access (configured from root .env file)
XIANSUI_HOST=
XIANSUI_HOST_DEV=http://localhost:3000
XIANSUI_HOST_REDIRECT=${XIANSUI_HOST}/*
XIANSUI_HOST_DEV_REDIRECT=${XIANSUI_HOST_DEV}/*

TEMPORAL_HOST=
TEMPORAL_HOST_URL_REDIRECT=${TEMPORAL_HOST}/auth/sso/callback

AUTH_HOST=

# =============================================================================
# Network and Port Configuration
# =============================================================================
# External port for Keycloak admin console
KEYCLOAK_PORT=9080

# =============================================================================
# PostgreSQL Version (should match your postgresql service)
# =============================================================================
POSTGRESQL_VERSION=16

# =============================================================================
# Resource Limits
# =============================================================================
# Memory limits for Keycloak container
KEYCLOAK_MEMORY_LIMIT=1G
KEYCLOAK_MEMORY_RESERVATION=512M

# =============================================================================
# Logging Configuration
# =============================================================================
# Logging settings for Keycloak
LOGGING_DRIVER=local
LOG_MAX_SIZE=50m
LOG_MAX_FILE=2
